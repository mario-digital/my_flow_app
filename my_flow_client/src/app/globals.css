/* Tailwind CSS v4.x import syntax */
@import 'tailwindcss';

/* Design Tokens - Layer ensures proper import order and failure detection */
@layer tokens {
  @import './styles/tokens/colors.css' layer(tokens.colors);
  @import './styles/tokens/typography.css' layer(tokens.typography);
  @import './styles/tokens/spacing.css' layer(tokens.spacing);
  @import './styles/tokens/effects.css' layer(tokens.effects);
  @import './styles/tokens/animation.css' layer(tokens.animation);
}

@theme {
  /* ========================================
     TYPOGRAPHY - Reference typography.css tokens
     Maps to Tailwind's text-*, font-*, leading-* utilities
     ======================================== */

  /* Font Families */
  --font-sans: var(--font-family-primary);
  --font-mono: var(--font-family-mono);

  /* Font Sizes - Tailwind expects --text-* namespace */
  --text-tiny: var(--token-font-size-tiny);
  --text-small: var(--token-font-size-small);
  --text-base: var(--token-font-size-body);
  --text-large: var(--token-font-size-large);
  --text-h3: var(--token-font-size-h3);
  --text-h2: var(--token-font-size-h2);
  --text-h1: var(--token-font-size-h1);

  /* Font Weights - Tailwind expects specific weight names */
  --font-weight-normal: var(--token-font-weight-regular);
  --font-weight-medium: var(--token-font-weight-medium);
  --font-weight-semibold: var(--token-font-weight-semibold);
  --font-weight-bold: var(--token-font-weight-bold);

  /* Line Heights - Tailwind expects --leading-* namespace */
  --leading-tight: var(--token-line-height-tight);
  --leading-snug: var(--token-line-height-snug);
  --leading-normal: var(--token-line-height-normal);
  --leading-relaxed: var(--token-line-height-relaxed);
  --leading-loose: var(--token-line-height-loose);

  /* ========================================
     COLORS - Reference colors.css tokens for Tailwind utilities
     Maps to Tailwind's bg-*, text-*, border-* utilities
     ======================================== */

  /* Backgrounds - Maps to bg-* utilities */
  --color-bg-primary: var(--color-bg-primary);
  --color-bg-secondary: var(--color-bg-secondary);
  --color-bg-tertiary: var(--color-bg-tertiary);
  --color-bg-elevated: var(--color-bg-elevated);
  --color-bg-overlay: var(--color-bg-overlay);

  /* Text Colors - Maps to text-* utilities */
  --color-text-primary: var(--color-text-primary);
  --color-text-secondary: var(--color-text-secondary);
  --color-text-muted: var(--color-text-muted);
  --color-text-disabled: var(--color-text-disabled);

  /* Border Colors - Maps to border-* utilities */
  --color-border-default: var(--color-border-default);
  --color-border-subtle: var(--color-border-subtle);
  --color-border-hover: var(--color-border-hover);
  --color-border-focus: var(--color-border-focus);

  /* Context Colors - Maps to context-* utilities */
  --color-context: var(--color-context-current);
  --color-context-current: var(--color-context-current);
  --color-context-hover: var(--color-context-current-hover);
  --color-context-work: var(--color-context-work);
  --color-context-personal: var(--color-context-personal);
  --color-context-rest: var(--color-context-rest);
  --color-context-social: var(--color-context-social);

  /* Brand Accent Colors - Logo-inspired */
  --color-brand-blue: var(--color-accent-primary);
  --color-brand-purple: var(--color-accent-secondary);

  /* Semantic Colors - Maps to success-*, warning-*, error-* utilities */
  --color-success: var(--color-success);
  --color-success-bg: var(--color-success-bg);
  --color-warning: var(--color-warning);
  --color-warning-bg: var(--color-warning-bg);
  --color-error: var(--color-error);
  --color-error-bg: var(--color-error-bg);

  /* Component Colors - Cards */
  --color-card: var(--card-bg);
  --color-card-bg: var(--card-bg);
  --color-card-bg-hover: var(--card-bg-hover);
  --color-card-border: var(--card-border);
  --color-card-text: var(--card-text);

  /* Component Colors - Flow Cards (Context-Aware Task Cards) */
  --color-flow-card: var(--flow-card-bg);
  --color-flow-card-bg: var(--flow-card-bg);
  --color-flow-card-bg-hover: var(--flow-card-bg-hover);
  --color-flow-card-border: var(--flow-card-border);
  --color-flow-card-border-left: var(--flow-card-border-left);
  --color-flow-card-text: var(--flow-card-text);
  --color-flow-card-text-completed: var(--flow-card-text-completed);

  /* Component Colors - Inputs */
  --color-input-bg: var(--input-bg);
  --color-input-border: var(--input-border);
  --color-input-border-hover: var(--input-border-hover);
  --color-input-border-focus: var(--input-border-focus);
  --color-input-text: var(--input-text);
  --color-input-placeholder: var(--input-placeholder);

  /* Component Colors - Message Bubbles */
  --color-message-bg-user: var(--message-bg-user);
  --color-message-bg-ai: var(--message-bg-ai);
  --color-message-bg-system: var(--message-bg-system);
  --color-message-text-user: var(--message-text-user);
  --color-message-text-ai: var(--message-text-ai);

  /* ========================================
     SPACING - Reference spacing.css tokens
     Maps to Tailwind's p-*, m-*, gap-* utilities
     ======================================== */
  --spacing-0: var(--space-0);
  --spacing-1: var(--space-1);
  --spacing-2: var(--space-2);
  --spacing-3: var(--space-3);
  --spacing-4: var(--space-4);
  --spacing-5: var(--space-5);
  --spacing-6: var(--space-6);
  --spacing-8: var(--space-8);
  --spacing-10: var(--space-10);
  --spacing-12: var(--space-12);
  --spacing-16: var(--space-16);
  --spacing-20: var(--space-20);
  --spacing-24: var(--space-24);
  --spacing-32: var(--space-32);
  --spacing-40: var(--space-40);
  --spacing-48: var(--space-48);

  /* ========================================
     BORDER RADIUS - Reference effects.css tokens
     Maps to Tailwind's rounded-* utilities
     ======================================== */
  --radius-none: var(--token-radius-none);
  --radius-sm: var(--token-radius-sm);
  --radius: var(--token-radius-md);
  --radius-md: var(--token-radius-md);
  --radius-lg: var(--token-radius-lg);
  --radius-full: var(--token-radius-full);

  /* Component-specific radius for consistent usage */
  --radius-button: var(--token-radius-button);
  --radius-card: var(--token-radius-card);
  --radius-input: var(--token-radius-input);
  --radius-modal: var(--token-radius-modal);

  /* ========================================
     BORDER WIDTHS - Reference effects.css tokens
     Maps to Tailwind's border-* utilities (e.g., border-l-flow)
     ======================================== */
  --border-width-default: var(--token-border-width-default);
  --border-width-thick: var(--token-border-width-thick);
  --border-width-flow: var(--token-border-width-flow);
  --border-width-urgent: var(--token-border-width-urgent);

  /* ========================================
     SHADOWS - Reference effects.css tokens
     Maps to Tailwind's shadow-* utilities
     ======================================== */
  --shadow-none: var(--token-shadow-none);
  --shadow-xs: var(--token-shadow-xs);
  --shadow-sm: var(--token-shadow-sm);
  --shadow: var(--token-shadow-md);
  --shadow-md: var(--token-shadow-md);
  --shadow-lg: var(--token-shadow-lg);
  --shadow-xl: var(--token-shadow-xl);
  --shadow-focus: var(--token-shadow-focus);
  --shadow-glow-brand: var(--token-shadow-glow-brand);
  --shadow-glow-brand-hover: var(--token-shadow-glow-brand-hover);

  /* ========================================
     Z-INDEX - Reference effects.css tokens
     No standard Tailwind namespace, use z-* for custom utilities
     ======================================== */
  --z-0: var(--token-z-base);
  --z-dropdown: var(--token-z-dropdown);
  --z-sticky: var(--token-z-sticky);
  --z-fixed: var(--token-z-fixed);
  --z-modal-backdrop: var(--token-z-modal-backdrop);
  --z-modal: var(--token-z-modal);
  --z-popover: var(--token-z-popover);
  --z-tooltip: var(--token-z-tooltip);
  --z-notification: var(--token-z-notification);
  --z-max: var(--token-z-max);

  /* ========================================
     ANIMATIONS - Reference animation.css tokens
     Maps to Tailwind's duration-* and ease-* utilities
     ======================================== */

  /* Durations */
  --duration-instant: var(--anim-duration-instant);
  --duration-fast: var(--anim-duration-fast);
  --duration: var(--anim-duration-normal);
  --duration-normal: var(--anim-duration-normal);
  --duration-slow: var(--anim-duration-slow);
  --duration-slowest: var(--anim-duration-slowest);

  /* Easing Functions */
  --ease-linear: var(--anim-ease-linear);
  --ease-in: var(--anim-ease-in);
  --ease-out: var(--anim-ease-out);
  --ease-in-out: var(--anim-ease-in-out);
  --ease-bounce: var(--anim-ease-bounce);
  --ease-spring: var(--anim-ease-spring);

  /* ========================================
     ICON SIZES - Reference effects.css tokens
     Maps to custom width/height utilities
     ======================================== */
  --size-icon-xs: var(--token-icon-xs);
  --size-icon-sm: var(--token-icon-sm);
  --size-icon-md: var(--token-icon-md);
  --size-icon-lg: var(--token-icon-lg);
  --size-icon-xl: var(--token-icon-xl);

  /* ========================================
     SKELETON LOADING - Reference effects.css tokens
     Maps to h-skeleton-* and w-skeleton-* utilities
     ======================================== */

  /* Skeleton Height utilities: h-skeleton-* */
  --height-skeleton-text: var(--token-skeleton-text); /* h-skeleton-text */
  --height-skeleton-title: var(--token-skeleton-title); /* h-skeleton-title */
  --height-skeleton-avatar: var(
    --token-skeleton-avatar
  ); /* h-skeleton-avatar */
  --height-skeleton-input: var(--token-skeleton-input); /* h-skeleton-input */
  --height-skeleton-button: var(
    --token-skeleton-button
  ); /* h-skeleton-button */

  /* Skeleton Width utilities: w-skeleton-* (percentage-based) */
  --width-skeleton-full: 100%; /* w-skeleton-full */
  --width-skeleton-xl: 85%; /* w-skeleton-xl */
  --width-skeleton-lg: 75%; /* w-skeleton-lg */
  --width-skeleton-md: 60%; /* w-skeleton-md */
  --width-skeleton-sm: 45%; /* w-skeleton-sm */
  --width-skeleton-xs: 33%; /* w-skeleton-xs */
}

body {
  /* Modern gradient background inspired by logo */
  background:
    radial-gradient(
      ellipse 80% 50% at 50% -20%,
      rgba(74, 144, 226, 0.15),
      transparent
    ),
    radial-gradient(
      ellipse 60% 50% at 0% 100%,
      rgba(139, 92, 246, 0.1),
      transparent
    ),
    var(--color-bg-primary);
  color: var(--color-text-primary);
  font-family: var(--font-family-primary);
  /* Ensure gradient stays fixed during scroll */
  background-attachment: fixed;
}

/* ========================================
   COMPONENT-SPECIFIC ANIMATIONS
   ======================================== */

/* Typing Indicator - Staggered pulse animation for chat typing dots */
@keyframes typing-pulse {
  0%,
  100% {
    opacity: 0.4;
  }
  50% {
    opacity: 1;
  }
}

.typing-dot-1,
.typing-dot-2,
.typing-dot-3 {
  animation: typing-pulse 1.4s ease-in-out infinite;
}

.typing-dot-1 {
  animation-delay: 0ms;
}

.typing-dot-2 {
  animation-delay: 200ms;
}

.typing-dot-3 {
  animation-delay: 400ms;
}
