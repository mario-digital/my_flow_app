# ========================================
# ENVIRONMENT VARIABLE DOCUMENTATION
# ========================================
# REQUIRED: Must be set for application to function
# OPTIONAL: Feature-specific, can be omitted if not using that feature
# DOCKER-SPECIFIC: Only needed for Docker Compose setup
# GENERAL: Used in both Docker and native development
#
# Example values shown are for LOCAL DEVELOPMENT
# Production values should be set via deployment platform UI

# ========================================
# MongoDB Atlas (Cloud Database)
# ========================================
# REQUIRED | GENERAL
# Format: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>?retryWrites=true&w=majority
# Get from: MongoDB Atlas dashboard → Databases → Connect → Connect your application
MONGODB_URI=op://my_flow_secrets/myflow_mongodb/MONGODB_URI
# Example (local dev): mongodb+srv://user:pass@cluster0.abc123.mongodb.net/myflow_dev?retryWrites=true&w=majority

# ========================================
# Redis Configuration
# ========================================
# OPTIONAL | DOCKER-SPECIFIC (Story 5.0) | REQUIRED for caching (Story 5.2+)
# Local Docker: Use container name DNS resolution
# Production: Use Upstash Redis REST URL
# Get Upstash URL from: https://console.upstash.com → Your Database → REST API → UPSTASH_REDIS_REST_URL
REDIS_URL=op://my_flow_secrets/myflow_redis/REDIS_URL
# Example (local Docker): redis://redis:6379
# Example (production): https://abc-123.upstash.io

# ========================================
# Logto Authentication
# ========================================
# REQUIRED | GENERAL
# Get from: Logto Console → Applications → Your App → Application details
op://my_flow_secrets/myflow_logto_frontend/NEXT_PUBLIC_LOGTO_ENDPOINT
# Example: https://your-tenant.logto.app

# REQUIRED | GENERAL
op://my_flow_secrets/myflow_logto_frontend/NEXT_PUBLIC_LOGTO_APP_ID
# Example: abc123xyz

# REQUIRED | GENERAL (Backend only)
op://my_flow_secrets/myflow_logto_frontend/LOGTO_APP_SECRET
# Example: secret_abc123xyz

# REQUIRED | GENERAL (Frontend only)
# Used to encrypt session cookies (generate with: openssl rand -base64 32)
op://my_flow_secrets/myflow_logto_frontend/LOGTO_COOKIE_SECRET
# Example: rAnD0mStr1ng0f32Ch4r4ct3rsF0rC00k13Encrypti0n==

# REQUIRED | GENERAL (Frontend only - public variable)
op://my_flow_secrets/myflow_logto_frontend/NEXT_PUBLIC_LOGTO_ENDPOINT
# Example: https://your-tenant.logto.app

# REQUIRED | GENERAL (Frontend only - public variable)
op://my_flow_secrets/myflow_logto_frontend/NEXT_PUBLIC_LOGTO_APP_ID
# Example: abc123xyz

# REQUIRED | GENERAL (Frontend only - public variable)
# The API resource identifier configured in Logto
op://my_flow_secrets/myflow_logto_frontend/NEXT_PUBLIC_LOGTO_RESOURCE
# Example: https://api.myflow.app

# ========================================
# Frontend Configuration
# ========================================
# REQUIRED | DOCKER-SPECIFIC (value differs for Docker vs native)
# Native dev: http://localhost:3000
# Docker dev: http://localhost:3000
# Production: Your Vercel deployment URL
op://my_flow_secrets/myflow_frontend/NEXT_PUBLIC_BASE_URL
# Example (local): http://localhost:3000
# Example (production): https://myflow.vercel.app

# REQUIRED | DOCKER-SPECIFIC (value differs for Docker vs native)
# Native dev: http://localhost:8000 (frontend calls backend directly)
# Docker dev: http://backend:8000 (container-to-container DNS)
# Production: Your Railway/Render backend URL
op://my_flow_secrets/myflow_frontend/NEXT_PUBLIC_API_URL
# Example (local native): http://localhost:8000
# Example (local Docker): http://backend:8000
# Example (production): https://myflow-api.railway.app

# ========================================
# AI Provider (OpenAI or Anthropic)
# ========================================
# REQUIRED | GENERAL (choose ONE provider)
# For OpenAI: Get from https://platform.openai.com/api-keys
op://my_flow_secrets/open_ai_api/OPENAI_API_KEY
# Example: sk-proj-abc123...

# OR (alternative to OpenAI)
# For Anthropic: Get from https://console.anthropic.com/settings/keys
op://my_flow_secrets/anthropic/ANTHROPIC_API_KEY
# Example: sk-ant-abc123...

# ========================================
# Backend Configuration (continued)
# ========================================
# REQUIRED | GENERAL
LOGTO_ENDPOINT=op://my_flow_secrets/myflow_logto_frontend/NEXT_PUBLIC_LOGTO_ENDPOINT
LOGTO_APP_ID=op://my_flow_secrets/myflow_logto_frontend/NEXT_PUBLIC_LOGTO_APP_ID
LOGTO_APP_SECRET=op://my_flow_secrets/myflow_logto_frontend/LOGTO_APP_SECRET
LOGTO_RESOURCE=
LOGTO_JWKS_TIMEOUT_SECONDS=5
LOGTO_JWKS_CACHE_TTL_SECONDS=3600

# CORS Configuration
CORS_ORIGINS=["http://localhost:3000"]

# AI Provider Configuration
AI_PROVIDER=openai
AI_MODEL=gpt-4o
